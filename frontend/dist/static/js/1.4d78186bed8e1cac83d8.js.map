{"version":3,"sources":["webpack:///./src/components/Detail.vue?493a","webpack:///./src/components/Detail.vue?db95","webpack:///src/components/Appbar.vue","webpack:///./src/components/Appbar.vue?9e8b","webpack:///./src/components/Appbar.vue","webpack:///src/components/Detail.vue","webpack:///./src/components/Detail.vue?7ce5","webpack:///./src/components/Detail.vue"],"names":["content","__webpack_require__","module","i","locals","exports","undefined","push","Appbar","data","open","value","value2","avatar","window","sessionStorage","getItem","login","body","articles","props","methods","toggle","this","logout","_this","removeItem","axios_default","method","url","headers","Content-Type","then","response","$router","name","catch","error","console","log","handleChange","val","handleChange2","params","id","fetchData","$route","posts","mounted","components_Appbar","render","_vm","_h","$createElement","_c","_self","attrs","to","nativeOn","click","$event","back","_v","slot","icon","on","directives","rawName","expression","src","change","title","left","docked","close","inset","toggleNested","_l","post","key","staticRenderFns","Component","normalizeComponent","__webpack_exports__","Detail","comments","commentBody","toLogin","fetchPost","fetchComment","submitForm","_this2","Authorization","alert","components","appbar","watch","from","components_Detail","staticClass","width","tablet","desktop","domProps","innerHTML","_s","comment","author_name","author_avatar","staticStyle","color","_f","created_time","hintText","multiLine","rows","fullWidth","model","callback","$$v","label","ssrContext"],"mappings":"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","file":"static/js/1.4d78186bed8e1cac83d8.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-874654d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"534665fb\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-874654d4\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Detail.vue\n// module id = 4Yb9\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".post-wrapper{margin-top:40px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-874654d4\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Detail.vue\n// module id = XCe9\n// module chunks = 1","<template>\n  <div>\n    <mu-appbar>\n      <router-link to=\"/\" @click.native=\"back()\">Rare</router-link>\n      <mu-icon-button icon=\"menu\" slot=\"left\" @click=\"toggle()\"/>\n      <mu-avatar v-show=\"login\" slot=\"right\" :src=\"avatar\"/>\n      <mu-icon-menu v-show=\"login\" @change=\"handleChange\" icon=\"more_vert\" slot=\"right\">\n        <mu-menu-item value=\"1\" title=\"退出登录\" @click=\"logout\"/>\n      </mu-icon-menu>\n    </mu-appbar>\n    <mu-drawer left :open=\"open\" @close=\"toggle()\" :docked=false>\n      <mu-appbar title=\"Rare\"/>\n      <mu-list :value=\"value2\" @change=\"handleChange2\">\n        <mu-list-item :open=\"false\" :value=\"1\" title=\"文章\" inset toggleNested>\n          <mu-icon slot=\"left\" value=\"grade\"/>\n          <mu-list-item v-for=\"post in (posts ? posts: articles)\" :key= \"post.id\" :value=\"post.id\"  :title=\"post.title\" slot=\"nested\">\n          </mu-list-item>\n        </mu-list-item>\n      </mu-list>\n    </mu-drawer>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      open: false,\n      value: '1',\n      value2: '1',\n      avatar: window.sessionStorage.getItem('avatar'),\n      login: window.sessionStorage.getItem('key'),\n      body: '',\n      articles: ''\n    }\n  },\n  props: ['posts'],\n  methods: {\n    toggle () {\n      this.open = !this.open\n    },\n    logout () {\n      let _this = this\n      _this.login = false\n      window.sessionStorage.removeItem('key')\n      window.sessionStorage.removeItem('admin')\n      window.sessionStorage.removeItem('avatar')\n      axios({\n        method: 'DELETE',\n        url: '/api/sessions',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        _this.$router.push({'name': 'HelloWorld'})\n      }).catch(function (error) {\n        console.log(error)\n      })\n    },\n    handleChange (val) {\n      if (this.value === val) {\n        this.logout()\n      }\n    },\n    handleChange2 (val) {\n      /* eslint-disable */\n      if (val != this.value2) {\n        this.$router.push({name: 'Detail', params: {id: val}})\n      }\n    },\n    fetchData () {\n      var _this = this\n      if (_this.$route.name === 'Detail') {\n        axios({\n          method: 'GET',\n          url: '/api/posts',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(function (response) {\n          _this.articles = response.data.posts\n        }).catch(function (error) {\n          console.log(error)\n        })\n      }\n    }\n  },\n  mounted () {\n    this.fetchData()\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Appbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mu-appbar',[_c('router-link',{attrs:{\"to\":\"/\"},nativeOn:{\"click\":function($event){_vm.back()}}},[_vm._v(\"Rare\")]),_vm._v(\" \"),_c('mu-icon-button',{attrs:{\"slot\":\"left\",\"icon\":\"menu\"},on:{\"click\":function($event){_vm.toggle()}},slot:\"left\"}),_vm._v(\" \"),_c('mu-avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.login),expression:\"login\"}],attrs:{\"slot\":\"right\",\"src\":_vm.avatar},slot:\"right\"}),_vm._v(\" \"),_c('mu-icon-menu',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.login),expression:\"login\"}],attrs:{\"slot\":\"right\",\"icon\":\"more_vert\"},on:{\"change\":_vm.handleChange},slot:\"right\"},[_c('mu-menu-item',{attrs:{\"value\":\"1\",\"title\":\"退出登录\"},on:{\"click\":_vm.logout}})],1)],1),_vm._v(\" \"),_c('mu-drawer',{attrs:{\"left\":\"\",\"open\":_vm.open,\"docked\":false},on:{\"close\":function($event){_vm.toggle()}}},[_c('mu-appbar',{attrs:{\"title\":\"Rare\"}}),_vm._v(\" \"),_c('mu-list',{attrs:{\"value\":_vm.value2},on:{\"change\":_vm.handleChange2}},[_c('mu-list-item',{attrs:{\"open\":false,\"value\":1,\"title\":\"文章\",\"inset\":\"\",\"toggleNested\":\"\"}},[_c('mu-icon',{attrs:{\"slot\":\"left\",\"value\":\"grade\"},slot:\"left\"}),_vm._v(\" \"),_vm._l(((_vm.posts ? _vm.posts: _vm.articles)),function(post){return _c('mu-list-item',{key:post.id,attrs:{\"slot\":\"nested\",\"value\":post.id,\"title\":post.title},slot:\"nested\"})})],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ca64c07\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Appbar.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Appbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Appbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ca64c07\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Appbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Appbar.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <appbar></appbar>\n    <div class=\"post-wrapper\">\n      <mu-row>\n        <mu-col width=\"0\" tablet=\"15\" desktop=\"25\"></mu-col>\n        <mu-col width=\"100\" tablet=\"70\" desktop=\"50\">\n          <mu-content-block>\n            <div v-highlight v-html=\"body\"></div>\n          </mu-content-block>\n          <div class=\"comment-wrapper\">\n            <mu-list>\n              <div v-for=\"comment in comments\" :key=comment.id>\n                <mu-list-item :title=\"comment.author_name\">\n                  <mu-avatar :src=\"comment.author_avatar\" slot=\"leftAvatar\"/>\n                  <span slot=\"describe\">\n                    <span style=\"color: rgba(0, 0, 0, .87)\">{{ comment.created_time | moment }}</span>\n                  </span>\n                  <p>{{ comment.body }}</p>\n                </mu-list-item>\n                <mu-divider inset/>\n              </div>\n            </mu-list>\n            <mu-text-field v-model=\"commentBody\" hintText=\"评论\" multiLine :rows=\"3\" fullWidth /><br/>\n            <mu-raised-button v-show=\"login\" label=\"提交\" class=\"demo-raised-button\" @click=\"submitForm\"/>\n            <mu-raised-button v-show=\"!login\" label=\"登录后才能评论\" class=\"demo-raised-button\" @click=\"toLogin\"/>\n          </div>\n        </mu-col>\n        <mu-col width=\"0\" tablet=\"15\" desktop=\"25\"></mu-col>\n      </mu-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport appbar from '@/components/Appbar'\n\nexport default {\n  data () {\n    return {\n      value: '1',\n      avatar: window.sessionStorage.getItem('avatar'),\n      login: window.sessionStorage.getItem('key'),\n      body: '',\n      comments: '',\n      commentBody: ''\n    }\n  },\n  methods: {\n    logout () {\n      let _this = this\n      _this.login = false\n      window.sessionStorage.removeItem('key')\n      window.sessionStorage.removeItem('admin')\n      window.sessionStorage.removeItem('avatar')\n      axios({\n        method: 'DELETE',\n        url: '/api/sessions',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        _this.$router.push({'name': 'HelloWorld'})\n      }).catch(function (error) {\n        console.log(error)\n      })\n    },\n    toLogin () {\n      this.$router.push({name: 'Login'})\n    },\n    handleChange (val) {\n      if (this.value === val) {\n        this.logout()\n      }\n    },\n    fetchPost (id) {\n      let _this = this\n      axios({\n        method: 'GET',\n        url: '/api/posts/' + id,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then((response) => {\n        _this.body = response.data.body\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n    fetchComment (id) {\n      let _this = this\n      axios({\n        method: 'GET',\n        url: '/api/comments/' + id,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then((response) => {\n        _this.comments = response.data\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n    fetchData (id) {\n      this.fetchPost(id)\n      this.fetchComment(id)\n    },\n    submitForm () {\n      let _this = this\n      if (!_this.commentBody) {\n        alert('评论不能为空')\n        return\n      }\n      axios({\n        url: '/api/comments/' + _this.$route.params.id,\n        method: 'POST',\n        headers: {'Authorization': window.sessionStorage.getItem('key'), 'Content-Type': 'application/json'},\n        data: {\n          'body': _this.commentBody\n        }\n      }).then((response) => {\n        this.fetchComment(this.$route.params.id)\n      }).catch((error) => {\n        console.log(error)\n      })\n    }\n  },\n  mounted () {\n    this.fetchData(this.$route.params.id)\n  },\n  components: {\n    appbar\n  },\n  watch: {\n    '$route' (to, from) {\n      // 获取最新的id 调用获取数据方法\n      this.fetchData(this.$route.params.id)\n    }\n  }\n}\n</script>\n\n<style>\n  .post-wrapper {\n    margin-top: 40px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('appbar'),_vm._v(\" \"),_c('div',{staticClass:\"post-wrapper\"},[_c('mu-row',[_c('mu-col',{attrs:{\"width\":\"0\",\"tablet\":\"15\",\"desktop\":\"25\"}}),_vm._v(\" \"),_c('mu-col',{attrs:{\"width\":\"100\",\"tablet\":\"70\",\"desktop\":\"50\"}},[_c('mu-content-block',[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],domProps:{\"innerHTML\":_vm._s(_vm.body)}})]),_vm._v(\" \"),_c('div',{staticClass:\"comment-wrapper\"},[_c('mu-list',_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id},[_c('mu-list-item',{attrs:{\"title\":comment.author_name}},[_c('mu-avatar',{attrs:{\"slot\":\"leftAvatar\",\"src\":comment.author_avatar},slot:\"leftAvatar\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"describe\"},slot:\"describe\"},[_c('span',{staticStyle:{\"color\":\"rgba(0, 0, 0, .87)\"}},[_vm._v(_vm._s(_vm._f(\"moment\")(comment.created_time)))])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(comment.body))])],1),_vm._v(\" \"),_c('mu-divider',{attrs:{\"inset\":\"\"}})],1)})),_vm._v(\" \"),_c('mu-text-field',{attrs:{\"hintText\":\"评论\",\"multiLine\":\"\",\"rows\":3,\"fullWidth\":\"\"},model:{value:(_vm.commentBody),callback:function ($$v) {_vm.commentBody=$$v},expression:\"commentBody\"}}),_c('br'),_vm._v(\" \"),_c('mu-raised-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.login),expression:\"login\"}],staticClass:\"demo-raised-button\",attrs:{\"label\":\"提交\"},on:{\"click\":_vm.submitForm}}),_vm._v(\" \"),_c('mu-raised-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.login),expression:\"!login\"}],staticClass:\"demo-raised-button\",attrs:{\"label\":\"登录后才能评论\"},on:{\"click\":_vm.toLogin}})],1)],1),_vm._v(\" \"),_c('mu-col',{attrs:{\"width\":\"0\",\"tablet\":\"15\",\"desktop\":\"25\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-874654d4\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-874654d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-874654d4\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
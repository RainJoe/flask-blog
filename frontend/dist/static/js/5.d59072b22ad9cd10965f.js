webpackJsonp([5],{"284G":function(t,a,e){var s=e("9cCe");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("5a8c95cc",s,!0)},"9cCe":function(t,a,e){(t.exports=e("FZ+f")(void 0)).push([t.i,".login-wrapper{margin-top:150px}",""])},xJsL:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mtWM"),l=e.n(s),i={data:function(){return{email:"",pass:""}},methods:{validEmail:function(){return!!this.email||(alert("邮箱不能为空"),!1)},validPass:function(){return!!this.pass||(alert("密码不能为空"),!1)},register:function(){this.$router.push({name:"Register"})},login:function(){var t=this;t.validEmail()&&t.validPass()&&l()({method:"POST",url:"/api/sessions",headers:{"Content-Type":"application/json"},data:{email:t.email,password:t.pass}}).then(function(a){401.1===a.data.code?alert("密码错误"):401.2===a.data.code?alert("用户未注册"):(window.sessionStorage.setItem("key",a.data.key),window.sessionStorage.setItem("admin",a.data.admin),window.sessionStorage.setItem("avatar",a.data.avatar),t.$router.push({name:"HelloWorld"}))}).catch(function(t){console.log(t),alert("登录出错")})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login-wrapper"},[e("mu-row",[e("mu-col",{attrs:{width:"10",tablet:"20",desktop:"40"}}),t._v(" "),e("mu-col",{attrs:{width:"80",tablet:"60",desktop:"20"}},[e("h1",{staticClass:"login"},[t._v("登录")]),t._v(" "),e("mu-text-field",{attrs:{fullWidth:!0,label:"邮箱"},model:{value:t.email,callback:function(a){t.email=a},expression:"email"}}),e("br"),t._v(" "),e("mu-text-field",{attrs:{fullWidth:!0,label:"密码",type:"password"},model:{value:t.pass,callback:function(a){t.pass=a},expression:"pass"}}),e("br"),t._v(" "),e("mu-flat-button",{attrs:{label:"登录"},on:{click:t.login}}),t._v(" "),e("mu-flat-button",{staticStyle:{float:"right"},attrs:{label:"注册"},on:{click:t.register}})],1),t._v(" "),e("mu-col",{attrs:{width:"10",tablet:"20",desktop:"40"}})],1)],1)},staticRenderFns:[]},n=e("VU/8")(i,o,!1,function(t){e("284G")},null,null);a.default=n.exports}});
//# sourceMappingURL=5.d59072b22ad9cd10965f.js.map
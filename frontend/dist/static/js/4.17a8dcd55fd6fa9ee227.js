webpackJsonp([4],{Lcpq:function(t,o,e){var s=e("t9bv");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("0ce3a95d",s,!0)},qbhH:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=e("mtWM"),n=e.n(s),a={data:function(){return{posts:[],postNums:"",usertNums:""}},methods:{logout:function(){var t=this;window.sessionStorage.removeItem("key"),window.sessionStorage.removeItem("admin"),window.sessionStorage.removeItem("avatar"),n()({method:"DELETE",url:"/sessions",headers:{"Content-Type":"application/json"}}).then(function(o){t.$router.push({name:"HelloWorld"})}).catch(function(t){console.log(t)})},fetchUsers:function(){var t=this;n()({method:"GET",url:"users",headers:{"Content-Type":"application/json"}}).then(function(o){t.usertNums=o.data.amount}).catch(function(t){console.log(t)})},fetchPosts:function(){var t=this;n()({method:"GET",url:"posts",headers:{"Content-Type":"application/json"}}).then(function(o){t.posts=o.data.posts}).catch(function(t){console.log(t)})},fetchData:function(){this.fetchUsers(),this.fetchPosts()},addPost:function(){this.$router.push({name:"Add"})},deletePost:function(t){var o=this;n()({method:"DELETE",url:"/posts/"+t,headers:{"Content-Type":"application/json"}}).then(function(t){o.fetchData()}).catch(function(t){console.log(t)})},editPost:function(t){this.$router.push({name:"Edit",params:{id:t}})}},mounted:function(){this.fetchData()}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("mu-appbar",{attrs:{title:"Adminstrator"}},[e("mu-flat-button",{attrs:{slot:"right",color:"white",label:"登出"},on:{click:t.logout},slot:"right"})],1),t._v(" "),e("mu-row",{staticClass:"container"},[e("mu-col",{attrs:{desktop:"10"}}),t._v(" "),e("mu-col",{attrs:{desktop:"10"}},[e("mu-list",[e("mu-list-item",{attrs:{title:"文章数"}},[e("mu-badge",{attrs:{slot:"after",content:t.postNums},slot:"after"})],1),t._v(" "),e("mu-list-item",{attrs:{title:"用户数"}},[e("mu-badge",{attrs:{slot:"after",content:t.usertNums},slot:"after"})],1)],1)],1),t._v(" "),e("mu-col",{attrs:{desktop:"70"}},[e("mu-table",{attrs:{selectable:!1}},[e("mu-thead",[e("mu-tr",[e("mu-th",[t._v("ID")]),t._v(" "),e("mu-th",[t._v("Title")]),t._v(" "),e("mu-th",[t._v("Operation")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.posts,function(o){return e("mu-tr",{key:o.id},[e("mu-td",[t._v(t._s(o.id))]),t._v(" "),e("mu-td",[t._v(t._s(o.title))]),t._v(" "),e("mu-td",[e("mu-raised-button",{attrs:{label:"修改"},on:{click:function(e){t.editPost(o.id)}}}),t._v(" "),e("mu-raised-button",{attrs:{label:"删除",secondary:""},on:{click:function(e){t.deletePost(o.id)}}})],1)],1)}))],1)],1),t._v(" "),e("mu-col",{attrs:{desktop:"10"}},[e("div",{staticClass:"new-button"},[e("mu-float-button",{staticClass:"demo-float-button",attrs:{slot:"right",icon:"add"},on:{click:t.addPost},slot:"right"})],1)])],1)],1)},staticRenderFns:[]},u=e("VU/8")(a,i,!1,function(t){e("Lcpq")},null,null);o.default=u.exports},t9bv:function(t,o,e){(t.exports=e("FZ+f")(void 0)).push([t.i,".container{margin-top:40px}.new-button{float:left}",""])}});
//# sourceMappingURL=4.17a8dcd55fd6fa9ee227.js.map